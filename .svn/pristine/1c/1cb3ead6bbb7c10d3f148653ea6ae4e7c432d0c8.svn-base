// pages/order/exchangeBox.js
Page({

  /**
   * 页面的初始数据
   */
  data: {
    lnums: 1,
    lImgs: '../../img/noPros.png',
    lImgs2: '../../img/noCheck.png',
    ebArray: [
      { id: 0, name: 'eba1', checked: false, eImg: '../../img/wxBg_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 0, eNums: 0, delIndex: 1 },
      { id: 1, name: 'eba1', checked: false, eImg: '../../img/wxSm_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 1, eNums: 0, delIndex: 2 },
      { id: 2, name: 'eba1', checked: false, eImg: '../../img/wxBg_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 2, eNums: 0, delIndex: 3 },
      { id: 3, name: 'eba1', checked: false, eImg: '../../img/wxSm_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 3, eNums: 0, delIndex: 4 },
      { id: 4, name: 'eba1', checked: false, eImg: '../../img/wxBg_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 4, eNums: 0, delIndex: 5 },
      { id: 4, name: 'eba1', checked: false, eImg: '../../img/wxBg_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 4, eNums: 0, delIndex: 5 },
      { id: 4, name: 'eba1', checked: false, eImg: '../../img/wxBg_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 4, eNums: 0, delIndex: 5 },
      { id: 4, name: 'eba1', checked: false, eImg: '../../img/wxBg_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 4, eNums: 0, delIndex: 5 },
      { id: 4, name: 'eba1', checked: false, eImg: '../../img/wxBg_img.jpg', eTit: 'Apple/苹果 Apple Watch Series 1 银色铝金属表壳搭配白色运动型表带智能手表', eColor: '银色铝金属表壳', eSize: '38mm', ePrice: 2080, eIndex: 4, eNums: 0, delIndex: 5 }
    ],
    ebtId: 0,
    X_Start: 0,
    X_End: 0
  },

  /**
   * 生命周期函数--监听页面加载
   */
  onLoad: function (options) {

  },

  /**
   * 生命周期函数--监听页面初次渲染完成
   */
  onReady: function () {

  },

  /**
   * 生命周期函数--监听页面显示
   */
  onShow: function () {

  },

  /**
   * 生命周期函数--监听页面隐藏
   */
  onHide: function () {

  },

  /**
   * 生命周期函数--监听页面卸载
   */
  onUnload: function () {

  },
  add: function (e) {//兑换箱内商品数量加
    var eIndex = e.currentTarget.id.replace("info", "")
    this.data.ebArray[eIndex].eNums += 1
    var value = this.data.ebArray
    this.setData({
      ebArray: value
    })
  },
  delcart: function (e) {//订单列表-删除块 
    var t = this;
    wx.showModal({
      title: "提示",
      content: "确认要删除这个订单吗？",
      success: function (n) {

      }
    })
  },
  removestart: function (e) {
    this.setData({
      X_Start: e.changedTouches[0].clientX
    })
  },
  removeload: function (e) {
    this.setData({
      X_End: e.changedTouches[0].clientX
    })
  },
  removeend: function (e) {
    this.setData({
      X_End: e.changedTouches[0].clientX
    }), this.direction(e.currentTarget.dataset.id)
  },
  direction: function (e) {
    var t = {
      xstart: this.data.X_Start,
      xend: this.data.X_End
    };
    t.xstart > t.xend ? t.xstart - t.xend > 136 && this.setData({
      ebtId: e
    }) : this.setData({
      ebtId: 0
    })
  },//End 订单列表-删除块
  confirmOrder: function () {//跳转立即兑换
    wx.navigateTo({
      url: '../confirmOrder/confirmOrder'
    })
  },
  /**
   * 页面相关事件处理函数--监听用户下拉动作
   */
  onPullDownRefresh: function () {

  },

  /**
   * 页面上拉触底事件的处理函数
   */
  onReachBottom: function () {

  },

  /**
   * 用户点击右上角分享
   */
  onShareAppMessage: function () {

  }
})